<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>How to create a new xPack Git repository | The xPack Build Framework (DEPRECATED)</title>
<link rel="stylesheet" href="https://xpack.github.io/css/syntax.css">


<link type="application/atom+xml" rel="alternate" href="https://xpack.github.io/feed.xml"/>
<link type="application/rss+xml" rel="alternate" title="web-archive-jekyll" href="https://xpack.github.io/feed.xml">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>How to create a new xPack Git repository | web-archive-jekyll</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="How to create a new xPack Git repository" />
<meta name="author" content="Liviu Ionescu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Tools to manage, configure and build complex, package based, multi-target, C/C++ projects." />
<meta property="og:description" content="Tools to manage, configure and build complex, package based, multi-target, C/C++ projects." />
<link rel="canonical" href="https://xpack.github.io/develop/how-to-new-git/" />
<meta property="og:url" content="https://xpack.github.io/develop/how-to-new-git/" />
<meta property="og:site_name" content="web-archive-jekyll" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-09T14:48:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How to create a new xPack Git repository" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Liviu Ionescu"},"dateModified":"2024-12-20T19:13:52+00:00","datePublished":"2019-07-09T14:48:00+00:00","description":"Tools to manage, configure and build complex, package based, multi-target, C/C++ projects.","headline":"How to create a new xPack Git repository","mainEntityOfPage":{"@type":"WebPage","@id":"https://xpack.github.io/develop/how-to-new-git/"},"url":"https://xpack.github.io/develop/how-to-new-git/"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://xpack.github.io/css/modern-business.css?202412202113">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://xpack.github.io/css/customstyles.css?202412202113">
<link rel="stylesheet" href="https://xpack.github.io/css/boxshadowproperties.css?202412202113">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="https://xpack.github.io/css/theme-blue.css?202412202113">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://xpack.github.io/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="https://xpack.github.io/js/toc.js"></script>
<script src="https://xpack.github.io/js/customscripts.js"></script>

<!-- Use absolute URLs, to cover preview cases too -->
<link rel="shortcut icon" href="https://xpack.github.io/images/favicon/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="https://xpack.github.io/images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://xpack.github.io/images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://xpack.github.io/images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://xpack.github.io/images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://xpack.github.io/images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://xpack.github.io/images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://xpack.github.io/images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://xpack.github.io/images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://xpack.github.io/images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="https://xpack.github.io/images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://xpack.github.io/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://xpack.github.io/images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://xpack.github.io/images/favicon/favicon-16x16.png">
<link rel="manifest" href="https://xpack.github.io/images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="https://xpack.github.io/images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks" style="">
        <div style="display: inline-block; float: left; margin-top: 8px; margin-left: auto; margin-right: 10px;"><img src="/images/company_logo.png" alt="logo" width="32px" height="32px"/></div>
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/">&nbsp;<span class="projectTitle"> The xPack Project</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">News<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/news/">Latest News</a></li>
                        
                        
                        
                        <li><a href="/news/archive/">Archive</a></li>
                        
                        
                        
                        <li><a href="/tags/">Tags</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a class="extern" href="https://xpack-dev-tools.github.io" target="_blank" rel="noopener">xPack Binary Development Tools</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://eclipse-embed-cdt.github.io" target="_blank" rel="noopener">Eclipse Embedded CDT</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://micro-os-plus.github.io" target="_blank" rel="noopener">µOS++ IIIe</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">GitHub<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a class="extern" href="https://github.com/xpack/" target="_blank" rel="noopener">xPack</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/xpack-dev-tools/" target="_blank" rel="noopener">3rd Party xPack Dev Tools</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/micro-os-plus/" target="_blank" rel="noopener">µOS++ IIIe</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/xpack-3rd-party/" target="_blank" rel="noopener">3rd Party xPacks</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/eclipse-embed-cdt/" target="_blank" rel="noopener">Eclipse Embedded CDT</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: '/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="How to create a new xPack Git repository">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3 sticky" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a title="Getting Started" href="#">Getting Started</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Intro (xPack 101)" href="/intro/">Intro (xPack 101)</a></li>
          
          
          
          
          
          
          <li><a title="CI/CD" href="/ci/">CI/CD</a></li>
          
          
          
          
          
          
          <li><a title="Install prerequisites" href="/install/">Install prerequisites</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Core Tools" href="#">Core Tools</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/core/">Overview</a></li>
          
          
          
          
          
          
          <li><a title="xpm" href="/xpm/">xpm</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="VS Code Extensions" href="#">VS Code Extensions</a>
      <ul>
          
          
          
          <li><a title="xPack C/C++ Build Tools" href="/vscode/">xPack C/C++ Build Tools</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Eclipse" href="#">Eclipse</a>
      <ul>
          
          
          
          <li><a class="extern" title="Eclipse Embedded CDT" href="https://eclipse-embed-cdt.github.io" target="_blank" rel="noopener">Eclipse Embedded CDT</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Support" href="#">Support</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/support/">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Developer Info" href="#">Developer Info</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/develop/">Overview</a></li>
          
          
          
          
          
          
          <li class="active"><a title="How to create a new xPack repo" href="/develop/how-to-new-git/">How to create a new xPack repo</a></li>
          
          
          
          
          
          
          <li><a title="JavaScript Style Guide" href="/develop/js-style-guide/">JavaScript Style Guide</a></li>
          
          
          
          
          
          
          <li><a title="Links" href="/develop/links/">Links</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Maintainer Info" href="#">Maintainer Info</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/maintain/">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Project" href="#">Project</a>
      <ul>
          
          
          
          <li><a title="About" href="/project/about/">About</a></li>
          
          
          
          
          
          
          <li><a title="History" href="/project/history/">History</a></li>
          
          
          
          
          
          
          <li><a class="extern" title="License (MIT)" href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">License (MIT)</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar.
this is critical so that the parent expands when you're viewing a page.
This must appear below the sidebar code above. Otherwise, if placed
inside customscripts.js, the script runs before the sidebar code runs
and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">How to create a new xPack Git repository</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    

        


   <h2 id="overview">Overview</h2>

<p>The technical definition of an xPack is <em>a folder which includes a
package.json file with some minimal content</em>
(<a href="/intro/">full definition</a>);
it does not require
any special structure for the folders or for the version-control system,
if any.</p>

<h3 id="projects-with-3rd-party-content">Projects with 3rd party content</h3>

<p>The first thought is that xPacks, as a new technology,
will be used for new projects,
with original content, so, in principle, these projects can be created
to have any structure.</p>

<p>In reality there are lots of existing 3rd party
software projects, each using its specific structure, and migrating them to
xPacks may add some maintenance burden to keep them in sync with the
originals.</p>

<h3 id="the-xpack-branch-and-three-way-merging">The <code class="language-plaintext highlighter-rouge">xpack</code> branch and three-way merging</h3>

<p>One way to reduce the maintenance burden of source xPacks is to use the
<a href="https://en.wikipedia.org/wiki/Merge_(version_control)#Three-way_merge">three-way merge</a>
feature of Git and a separate branch to accommodate the xPack specific changes.</p>

<p>This method does not require any changes to the original project, which can
keep its original structure, with its original branches, regardless
their names.</p>

<p>The only requirement is to create a new branch (preferably named <code class="language-plaintext highlighter-rouge">xpack</code>)
and to keep the changes on it; thus the main branch (probably <code class="language-plaintext highlighter-rouge">master</code>) can
easily track the upstream repository, while the xPack specific changes
continue to be developed using the <code class="language-plaintext highlighter-rouge">xpack</code> branch; from time to time the
main branch can be merged into the <code class="language-plaintext highlighter-rouge">xpack</code> branch and things kept in sync.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> The xPack tools do not require and
do not enforce the use of a branch named <code class="language-plaintext highlighter-rouge">xpack</code>, this is only
a recommendation.</div>

<h2 id="create-a-source-library-xpacks-with-3rd-party-content">Create a source library xPacks with 3rd party content</h2>

<h3 id="projects-without-a-public-repository">Projects without a public repository</h3>

<p>If the 3rd party project does not use a public repository,
it is necessary to create one.</p>

<p>For projects distributed as archives, to simplify maintenance,
it is recommended to reconstruct the history in a separate branch
(like <code class="language-plaintext highlighter-rouge">originals</code>) by adding commits with the content of each released
archive.</p>

<p>Follow the steps to create a new repository, and watch for the extra steps to
create the <code class="language-plaintext highlighter-rouge">originals</code> branch.</p>

<h3 id="projects-with-existing-git">Projects with existing Git</h3>

<p>If the 3rd party project uses a public Git:</p>

<h4 id="fork">Fork</h4>

<p>With the GitHub web interface:</p>

<ul>
  <li>select the upstream project</li>
  <li>fork it, for example in the
<a href="https://github.com/xpack-3rd-party">3rd party xPacks</a> organization)</li>
  <li>preferably rename it:
    <ul>
      <li>add a prefix with the name of the original organization</li>
      <li>add the <code class="language-plaintext highlighter-rouge">-xpack</code> suffix</li>
      <li>click the <strong>Rename</strong> button</li>
    </ul>
  </li>
  <li>select the <strong>Settings</strong> tab
    <ul>
      <li>in the <strong>Features</strong> section
        <ul>
          <li>disable <strong>Wikis</strong></li>
          <li>enable <strong>Issues</strong></li>
          <li>enable <strong>Sponsorship</strong> (if needed)</li>
          <li>disable <strong>Projects</strong></li>
          <li>enable <strong>Discussions</strong>, Set up discussions</li>
        </ul>
      </li>
      <li>quit the <strong>Settings</strong> tab (there is no Save)</li>
    </ul>
  </li>
</ul>

<h4 id="clone-locally">Clone locally</h4>

<p>Clone the project locally on the development machine:</p>

<p>With the GitHub web interface:</p>

<ul>
  <li>open the forked project</li>
  <li>select the <strong>Code</strong> tab</li>
  <li>click the <strong>Clone or download</strong> button</li>
  <li>click Open with GitHub Desktop; save to a folder like
<code class="language-plaintext highlighter-rouge">xpack-3rd-party/&lt;project&gt;-xpack.git</code></li>
</ul>

<h4 id="identify-the-latest-release">Identify the latest release</h4>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>identify the stable branch</li>
  <li>identify the latest release tag</li>
  <li>reset the current branch to the tagged commit</li>
</ul>

<h4 id="create-the-xpack-branch">Create the <code class="language-plaintext highlighter-rouge">xpack</code> branch</h4>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>select the tagged commit</li>
  <li>create new branch <code class="language-plaintext highlighter-rouge">xpack</code></li>
  <li>switch to it</li>
</ul>

<p>Continue from the <strong>Common steps</strong> section below.</p>

<h2 id="create-a-new-xpack-repository">Create a new xPack repository</h2>

<p>If the project does not already have a forked repository, create a new
Git project.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> For consistency reasons, it is
recommended for the new xPacks, even if
they do not include 3rd party content, to use the <code class="language-plaintext highlighter-rouge">xpack</code> branch instead
of the <code class="language-plaintext highlighter-rouge">master</code> branch.</div>

<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation-circle"></i> <b>Warning:</b> Do not use a GitHub Template project!
The easiest way to create new projects would be to use an existing
GitHub Template project. Unfortunately, at the time of testing,
the repositories resulted
by using this method had weird histories,
like disconnected commits; until this will be fixed,
this method is not recommended.</div>

<h3 id="create-the-git-project">Create the Git project</h3>

<p>The following steps apply to GitHub. Adjust them for other Git hosting sites.</p>

<p>The editor of choice is Visual Studio Code (VS Code), but you can use
any editor you like; just be sure that on Windows it does not mess the
line terminators.</p>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> To easily identify the project as
an xPack, it is recommended to suffix the project name with ‘-xpack’.</div>

<p>With a browser, at GitHub, select your account or organisation.
(for the purposes of this project, here are some organisations that use xPacks:
<a href="https://github.com/xpack-dev-tools/">xPacks Dev Tools</a>,
<a href="https://github.com/micro-os-plus/">µOS++</a>,
<a href="https://github.com/xpack-3rd-party/">3rd party source xPacks</a>).</p>

<ul>
  <li>click the green <strong>New</strong> button to create a new repository
    <ul>
      <li>enter <strong>Repository name</strong>; use all lowercase and hyphens to
separate words (not underscores!); preferably suffix the name with <code class="language-plaintext highlighter-rouge">-xpack</code></li>
      <li>enter <strong>Description</strong> (like <em>A source xPack with …</em> or <em>A binary xPack with …</em>; no ending dot!)</li>
      <li>select <strong>Public</strong></li>
      <li>enable <strong>Initialize this repository with a README</strong></li>
      <li>select <strong>Add .gitignore: Node</strong></li>
      <li>select <strong>Add a license: MIT License</strong>; this is the license of
choice for xPacks, but any other license of your choice is also ok</li>
      <li>click the <strong>Create Repository</strong> button</li>
    </ul>
  </li>
  <li>select the <strong>Settings</strong> tab
    <ul>
      <li>in the <strong>Features</strong> section
        <ul>
          <li>disable <strong>Wikis</strong></li>
          <li>enable <strong>Sponsorship</strong> (if needed)</li>
          <li>disable <strong>Projects</strong></li>
          <li>enable <strong>Discussions</strong></li>
        </ul>
      </li>
      <li>quit the <strong>Settings</strong> tab (there is no Save)</li>
    </ul>
  </li>
</ul>

<h3 id="clone-the-repository-to-a-local-folder">Clone the repository to a local folder</h3>

<p>With the GitHub web interface:</p>

<ul>
  <li>open the project</li>
  <li>select the <strong>Code</strong> tab</li>
  <li>click the <strong>Clone or download</strong> button; this will open a
small <strong>Clone to HTTPS</strong> window</li>
  <li>click the <strong>Copy</strong> icon, or explicitly copy the URL</li>
  <li>in a terminal window, in a place of our choice, create a folder
to store all xPacks (for example it can be named <code class="language-plaintext highlighter-rouge">xPacks</code>):</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> xPacks
<span class="nb">cd </span>xPacks
git clone https://github.com/&lt;user&gt;/&lt;project&gt;.git &lt;project&gt;.git
</code></pre></div></div>

<h3 id="edit-the-master-readmemd-file">Edit the master <code class="language-plaintext highlighter-rouge">README.md</code> file</h3>

<p>As mentioned in the introduction,
although for original xPacks there are no constraints on how to
organise the branches, for consistency with xPacks that use 3rd
party content, it is recommended to use an <code class="language-plaintext highlighter-rouge">xpack</code> branch.</p>

<p>In this case, to warn users about this configuration, edit
the <code class="language-plaintext highlighter-rouge">README.md</code> file; keep the header line and replace the content with:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This project does not use the `master` branch, please
switch to the `xpack` branch to get the project files.
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">README.md</code> file</li>
  <li>commit with the following message: <strong>README: ‘no master’ notice</strong></li>
</ul>

<h3 id="edit-the-license-xpack-file">Edit the <code class="language-plaintext highlighter-rouge">LICENSE[-XPACK]</code> file</h3>

<p>The automatically generated <code class="language-plaintext highlighter-rouge">LICENSE</code> file already includes the
user name as the copyright owner. When the project is owned by
an organisation, the name refers to the organisation. Probably
this is not exactly what you need, and you might prefer to have
your name in the copyright notice.</p>

<p>Check and possibly adjust to match your <code class="language-plaintext highlighter-rouge">LICENSE</code> requirements.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MIT License

Copyright (c) 2022 Liviu Ionescu

Permission is hereby granted, free of charge, to any person obtaining a copy
...
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>for 3rd party content, rename it to <code class="language-plaintext highlighter-rouge">LICENSE-XPACK</code></li>
  <li>stage the file</li>
  <li>commit with the following message: <strong>LICENSE: update copyright owner</strong></li>
</ul>

<h3 id="create-the-originals-branch">Create the <code class="language-plaintext highlighter-rouge">originals</code> branch</h3>

<p>For a 3rd party project that does not use a
public Git project, but is distributed only as release archives, to
keep track of the changes it is recommended to
recreate the Git with the original
code on a separate branch, like <code class="language-plaintext highlighter-rouge">originals</code>, and later treat it
as the <code class="language-plaintext highlighter-rouge">master</code> branch.</p>

<p>With each upstream release, while on the <code class="language-plaintext highlighter-rouge">originals</code> branch,
fully remove the content and extract the newly released archive.</p>

<p>Then merge the update <code class="language-plaintext highlighter-rouge">originals</code> branch into the <code class="language-plaintext highlighter-rouge">xpack</code> branch.</p>

<p>In case the archive contains binary files, or other large files considered
not essential for the xPack distribution, add them to <code class="language-plaintext highlighter-rouge">.gitignore</code>.</p>

<p>Add/Edit the README file to add:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This branch is used to recreate the 3rd party project history
from release archives.
</code></pre></div></div>

<p>Commit with the following message: <strong>README: notice for 3rd party content</strong></p>

<h3 id="create-the-xpack-branch-1">Create the <code class="language-plaintext highlighter-rouge">xpack</code> branch</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>select the <code class="language-plaintext highlighter-rouge">master</code> branch</li>
  <li>create new branch <code class="language-plaintext highlighter-rouge">xpack</code></li>
  <li>switch to it</li>
</ul>

<h2 id="common-steps">Common steps</h2>

<h3 id="edit-the-gitignore-file">Edit the <code class="language-plaintext highlighter-rouge">.gitignore</code> file</h3>

<p>With VS Code:</p>

<ul>
  <li>add the following to <code class="language-plaintext highlighter-rouge">.gitignore</code>:</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
# added for xPack

.vscode/c_cpp_properties.json

# xpm
xpacks/
build*/

/*.tgz

# Windows
Thumbs.db

# macOS
.DS_Store

# end
</code></pre></div></div>

<ul>
  <li>for Eclipse C/C++ projects you can include:</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Eclipse
.settings/
Debug/
Release/
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">.gitignore</code> file</li>
  <li>commit with the following message: <strong>.gitignore: add xPack specifics</strong></li>
</ul>

<h3 id="add-the-npmignore-file">Add the <code class="language-plaintext highlighter-rouge">.npmignore</code> file</h3>

<p>With VS Code, create a new file with:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
.DS_Store
.git/
.github/
.gitignore
.gitmodules
.clang-*
.cmake-format

.vscode/

patches/
pkgconfig/
scripts/
test*/
build*/
ci/
docs/
example*/

xpacks/
node_modules/

/*.tgz

README-*
LICENSE-*
CONTRIBUTING**
</code></pre></div></div>

<ul>
  <li>update the content until <code class="language-plaintext highlighter-rouge">npm pack</code> shows only the desired content</li>
  <li>stage the <code class="language-plaintext highlighter-rouge">.npmignore</code> file</li>
  <li>commit with the following message: <strong>.npmignore preliminary content</strong></li>
</ul>

<h3 id="publish-all-branches">Publish all branches</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>push all local branches (<code class="language-plaintext highlighter-rouge">master</code>, <code class="language-plaintext highlighter-rouge">xpack</code> and maybe the <code class="language-plaintext highlighter-rouge">originals</code>)</li>
</ul>

<h3 id="change-the-default-branch-to-xpack">Change the default branch to <code class="language-plaintext highlighter-rouge">xpack</code></h3>

<p>With the GitHub web interface:</p>

<ul>
  <li>open the project</li>
  <li>select the <strong>Settings</strong> tab</li>
  <li>select the <strong>Branches</strong> grouping</li>
  <li>change the <strong>Default branch</strong> to <code class="language-plaintext highlighter-rouge">xpack</code></li>
  <li>click the <strong>Update</strong> button</li>
  <li>click the <strong>I understand, update the default branch</strong> confirmation window</li>
</ul>

<h3 id="create-the-npmxpm-packagejson">Create the npm/xpm <code class="language-plaintext highlighter-rouge">package.json</code></h3>

<p>Select the <code class="language-plaintext highlighter-rouge">xpack</code> branch.</p>

<p>Use <code class="language-plaintext highlighter-rouge">xpm init</code> and later edit the <code class="language-plaintext highlighter-rouge">package.json</code>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">cd</span> &lt;project&gt;.git
<span class="gp">$</span><span class="w"> </span>xpm init <span class="nt">--verbose</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">cat </span>package.json
<span class="go">{
</span><span class="gp">  "name": "@&lt;scope&gt;</span>/&lt;project-name&gt;<span class="s2">",
</span><span class="go">  "version": "0.1.0",
</span><span class="gp">  "description": "A source/binary xPack with &lt;your-description-here&gt;</span><span class="s2">",
</span><span class="go">  "main": "",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "repository": {
    "type": "git",
</span><span class="gp">    "url": "https://github.com/&lt;user-id&gt;</span>/&lt;project-name&gt;-xpack.git<span class="s2">"
</span><span class="go">  },
  "bugs": {
</span><span class="gp">    "url": "https://github.com/&lt;user-id&gt;</span>/&lt;project-name&gt;-xpack/issues<span class="s2">"
</span><span class="go">  },
</span><span class="gp">  "homepage": "https://github.com/&lt;user-id&gt;</span>/&lt;project-name&gt;-xpack<span class="s2">",
</span><span class="go">  "keywords": [
    "xpack"
  ],
  "author": {
</span><span class="gp">    "name": "&lt;author-name&gt;</span><span class="s2">",
</span><span class="gp">    "email": "&lt;author-email&gt;</span><span class="s2">"</span>,
<span class="gp">    "url": "&lt;author-url&gt;</span><span class="s2">"
</span><span class="go">  },
  "license": "MIT",
  "config": {},
  "dependencies": {},
  "devDependencies": {},
  "xpack": {}
}
</span><span class="gp">$</span><span class="w">
</span></code></pre></div></div>

<p>Open <code class="language-plaintext highlighter-rouge">package.json</code> with VS Code:</p>

<ul>
  <li>as <strong>name</strong> enter the scope (your npm account name or one of
your npm organisations) and the project name, without <code class="language-plaintext highlighter-rouge">-xpack.git</code>
(like <code class="language-plaintext highlighter-rouge">@micro-os-plus/diag-trace</code>, <code class="language-plaintext highlighter-rouge">@xpack-dev-tools/ninja-build</code>,
<code class="language-plaintext highlighter-rouge">@xpack-3rd-party/arm-cmsis-core</code>)</li>
  <li>as <strong>version</strong>, enter <code class="language-plaintext highlighter-rouge">0.1.0</code> if the project is in early development,
or accept 1.0.0 for the first stable release; generally use the
<a href="https://semver.org">semver</a> conventions</li>
  <li>as <strong>description</strong>, use the same string as the GitHub project description</li>
  <li>in <strong>scripts</strong>, check and possibly remove a trailing comma,</li>
  <li>as <strong>url</strong> and <strong>homepage</strong>, use the actual project Git URL</li>
  <li>as <strong>author</strong>, enter full data, like</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liviu Ionescu"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ilg@livius.net"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/ilg-ul/"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>as <strong>license</strong>, enter the <a href="https://spdx.org/licenses/">SPDX</a> license
identifier (like <code class="language-plaintext highlighter-rouge">MIT</code>); if the license is not a standard one, provide
the text in a <code class="language-plaintext highlighter-rouge">LICENSE</code> file and update the JSON to read:</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEE LICENSE IN &lt;filename&gt;"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>if the package is inspired by other existing code, enter the author
as the first contributor, for example:</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"contributors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEGGER Microcontroller GmbH &amp; Co. KG"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"support@segger.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.segger.com/"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"git"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/boost-ext/ut.git"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Update the list of npm scripts:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"npm-install"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm install"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm pack"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version-patch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm version patch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version-minor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm version minor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postversion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git push origin --all &amp;&amp; git push origin --tags"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"git-log"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git log --pretty='%cd * %h %s' --date=short"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="commit-the-initial-package-file">Commit the initial package file</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">package.json</code></li>
  <li>commit with the following message: <strong>package.json: v0.1.0</strong></li>
</ul>

<h3 id="edit-the-readmemd-file-with-actual-content">Edit the <code class="language-plaintext highlighter-rouge">README.md</code> file with actual content</h3>

<p>With the editor of your choice:</p>

<ul>
  <li>start with some badges</li>
  <li>as headers, you can start with H1, the npmjs server now shows it</li>
  <li>after the main title, copy the project description</li>
  <li>explain how to install the xPack
(like <code class="language-plaintext highlighter-rouge">xpm install --global @scope/name</code>)</li>
  <li>in the License section, use something like</li>
</ul>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gu">### License</span>

The original content is released under the
<span class="p">[</span><span class="nv">MIT License</span><span class="p">](</span><span class="sx">https://opensource.org/licenses/MIT</span><span class="p">)</span>, with all rights reserved to
<span class="p">[</span><span class="nv">Liviu Ionescu</span><span class="p">](</span><span class="sx">https://github.com/ilg-ul/</span><span class="p">)</span>.
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">README*.md</code> files</li>
  <li>commit with the following message: <strong>README: preliminary content</strong></li>
</ul>

<h3 id="add-readme-maintainer-xpackmd">Add README-MAINTAINER[-XPACK].md</h3>

<p>Create or copy/paste from a similar project, or from the template available
in the <code class="language-plaintext highlighter-rouge">build-helper-xpack</code> project.</p>

<p>For 3rd party projects, suffix the name with <code class="language-plaintext highlighter-rouge">-XPACK</code>.</p>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">README-MAINTAINER.md</code> files</li>
  <li>commit with the following message: <strong>README-MAINTAINER: preliminary content</strong></li>
</ul>

<h3 id="add-a-changelog-xpackmd-file">Add a CHANGELOG[-XPACK].md file</h3>

<p>A possible content:</p>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># Change &amp; release log</span>

Releases in reverse chronological order.

Please check
<span class="p">[</span><span class="nv">GitHub</span><span class="p">](</span><span class="sx">https://github.com/micro-os-plus/micro-test-plus-xpack/issues/</span><span class="p">)</span>
and close existing issues and pull requests.

<span class="gu">## 2022-01-03</span>
<span class="p">
*</span> v2.0.5
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the <code class="language-plaintext highlighter-rouge">CHANGELOG.md</code> files</li>
  <li>commit with the following message: <strong>CHANGELOG: preliminary content</strong></li>
</ul>

<h3 id="add-githubworkflows">Add .github/workflows/*</h3>

<p>Copy/paste files like:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">CI.yml</code></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">test-all.yml</code></p>
  </li>
  <li>commit with the following message: <strong>.github/workflows preliminary content</strong></li>
</ul>

<p>For projects with an upstream Git, disable existing workflows.</p>

<h3 id="publish-the-initial-version-to-github">Publish the initial version to GitHub</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>click the <strong>Push</strong> button (to push the <code class="language-plaintext highlighter-rouge">xpack</code> branch to the server)</li>
</ul>

<h3 id="add-more-content">Add more content</h3>

<ul>
  <li>add project files</li>
  <li>copy/paste the <code class="language-plaintext highlighter-rouge">tests[-xpack]</code> folder</li>
</ul>

<h3 id="commit-the-initial-content">Commit the initial content</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>stage the new files</li>
  <li>commit with the following message: <strong>add initial content</strong></li>
</ul>

<h3 id="create-the-xpack-develop-branch">Create the <code class="language-plaintext highlighter-rouge">xpack-develop</code> branch</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li>select the <code class="language-plaintext highlighter-rouge">xpack</code> branch</li>
  <li>create the <code class="language-plaintext highlighter-rouge">xpack-develop</code> branch</li>
</ul>

<p>Generally work in the <code class="language-plaintext highlighter-rouge">xpack-develop</code> branch and only when ready merge it
to <code class="language-plaintext highlighter-rouge">master</code>.</p>

<h3 id="publish-the-branches-to-github">Publish the branches to GitHub</h3>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li><strong>Push</strong> all branches (or at least <code class="language-plaintext highlighter-rouge">xpack</code> and <code class="language-plaintext highlighter-rouge">xpack-develop</code>)</li>
</ul>

<h3 id="publish-the-initial-version-to-the-npmjs-public-registry">Publish the initial version to the npmjs public registry</h3>

<ul>
  <li>check the latest commits <code class="language-plaintext highlighter-rouge">npm run git-log</code></li>
  <li>update <code class="language-plaintext highlighter-rouge">CHANGELOG.md</code>; commit with a message like
<em>CHANGELOG: prepare npm v1.10.0-1.1</em></li>
  <li><code class="language-plaintext highlighter-rouge">npm version v1.10.0-1.1</code>; the first 4 numbers are the same as the
GitHub release; the fifth number is the npm specific version</li>
  <li><code class="language-plaintext highlighter-rouge">npm pack</code> and check the content of the archive, which should list
only the desired content and
the <code class="language-plaintext highlighter-rouge">package.json</code>, the <code class="language-plaintext highlighter-rouge">README.md</code>, <code class="language-plaintext highlighter-rouge">LICENSE</code> and <code class="language-plaintext highlighter-rouge">CHANGELOG.md</code> files</li>
  <li>push all changes to GitHub</li>
  <li><code class="language-plaintext highlighter-rouge">npm publish --access public --tag next</code></li>
</ul>

<p>When the release is considered stable, promote it as <code class="language-plaintext highlighter-rouge">latest</code>. For example:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm dist-tag ls @xpack-dev-tools/ninja-build</code></li>
  <li><code class="language-plaintext highlighter-rouge">npm dist-tag add @xpack-dev-tools/ninja-build@1.10.0-1.1 latest</code></li>
  <li><code class="language-plaintext highlighter-rouge">npm dist-tag ls @xpack-dev-tools/ninja-build</code></li>
</ul>

<h3 id="bump-version">Bump version</h3>

<p>In general, depending on the <em>disruption</em> degree, chose one of the following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> &lt;project&gt;.git
npm version patch
npm version minor
npm version major
</code></pre></div></div>

<p>With VS Code, Fork or Git:</p>

<ul>
  <li><strong>Push</strong> the commits</li>
</ul>


    <div class="tags">
        
    </div>

    


</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2024 Liviu Ionescu. All rights reserved. <br />
<span>Page last updated:</span> Dec 20, 2024<br/> Site last generated: Dec 20, 2024 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8WX9T80JEK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8WX9T80JEK');
</script>


</html>
